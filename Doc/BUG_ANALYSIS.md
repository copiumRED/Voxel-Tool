# BUG_ANALYSIS

Date: 2026-03-01
Scope: main-branch runtime + docs audit. This is planning-only (no feature changes).

## Bug Backlog

| ID | Area | Symptom | Steps to Repro | Priority | Suspected Root Cause | Fix Strategy | Test Plan |
|---|---|---|---|---|---|---|---|
| B-001 | Viewport controls | No middle-mouse orbit profile; controls differ from common DCC workflows | Launch app, attempt MMB-drag orbit | P0 | Input mapping in `gl_widget.py` only supports LMB orbit (non-brush) and RMB pan | Add configurable navigation profile with MMB orbit mode and Blender-like variant | Unit tests for input mapping state + manual orbit/pan/zoom checklist |
| B-002 | Viewport/tool conflict | LMB drag both orbits camera and drives tool drag behavior depending on shape/state | Use line/box drag while camera is angled; compare behavior across tool modes | P0 | Shared LMB handling path with conditional branching is overloaded | Separate camera navigation state machine from editing state machine | Add integration tests for drag semantics per tool mode |
| B-003 | Mesh edit mode | Spec-required mesh edit workflow is not available in runtime | Search menus/tools for vertex/edge/face editing and try editing mesh | P0 | Placeholder mesh-edit modules not integrated into app UI/runtime | Implement minimal mesh mode framework then add atomic edit ops | Add tests for mode switching, selection data, and edit commands |
| B-004 | Export FBX | FBX export path absent | Open export workflow and inspect code for FBX action | P0 | No FBX exporter implementation wired in UI/core | Add FBX bridge/plugin strategy and guarded exporter action | Add exporter smoke test with file existence + basic structure check |
| B-005 | glTF parity | glTF export lacks UVs/colors/materials | Export textured/multi-color model and inspect glTF payload | P0 | glTF writer emits POSITION + NORMAL + indices only | Extend glTF writer with UV/color/material sections | Add schema-level tests for `TEXCOORD_0`, `COLOR_0`, materials |
| B-006 | VOX scene semantics | VOX transform/hierarchy chunks are warned but not reconstructed | Import VOX with transform chunks and inspect resulting scene | P1 | Parser collects unsupported chunk warnings but flattens models | Add transform-aware VOX parse path and mapping to parts/groups | Add fixtures for transform chunk handling |
| B-007 | Qubicle format | `.qb` import/export not present | Attempt `.qb` workflow from UI | P1 | No qb parser/writer modules in runtime path | Implement bounded `.qb` support with fixture-driven compatibility scope | Add golden fixture roundtrip tests |
| B-008 | Export UX trust | Some export options are format-specific and still easy to misread in UI | Switch formats repeatedly and inspect option visibility/messages | P1 | Option capability map exists but needs stronger per-format messaging | Add format summary panel and unsupported-option badges | UI tests for capability panel state |
| B-009 | Undo resilience | Complex drag interactions can leave ambiguous transaction lifecycle on interrupted input | Start drag and interrupt focus/window flow | P1 | Command transactions are tied tightly to mouse sequence events | Add explicit transaction abort/cancel hooks on focus/leave edge cases | Command stack tests for aborted transactions |
| B-010 | Recovery robustness | Recovery flow handles version mismatch but lacks diagnostics for operator triage | Corrupt recovery file and relaunch | P1 | Error handling is user-safe but minimally informative | Add structured recovery failure report payload and UI hint | Recovery tests for diagnostics file emission |
| B-011 | Scene workflow | No outliner search/filter for large part counts | Create many parts and attempt find/select workflow | P1 | Inspector list is linear and minimal | Add filter/search and batch select operations | UI tests for filter state and selection mapping |
| B-012 | Palette workflow | Palette lacks tags/folders and rapid preset discovery | Create many presets and attempt retrieval | P2 | Palette IO supports JSON/GPL but no metadata index | Add palette metadata schema and browser UI | IO tests for metadata roundtrip + UI filtering tests |
| B-013 | Performance scaling | No strict scene-tier perf budget gate in CI | Run dense-scene operations repeatedly | P1 | Perf baseline exists but is permissive and environment-sensitive | Introduce tiered perf scenarios with tighter envelopes | Perf tests for 64^3/96^3/128^3 tiers |
| B-014 | Packaging confidence | Installer path absent and clean-machine validation not automated | Try onboarding on clean VM using only packaged artifacts | P1 | Packaging script produces EXE but no installer/uninstall flow | Add installer prototype + validation scripts | Packaging checklist tests + manual VM verification |
| B-015 | Documentation drift | Prior docs can become stale after long task runs | Compare features in docs vs tests/runtime behavior | P1 | No doc consistency gate against implemented capability flags | Add doc consistency checklist in end-of-day gate | Add lightweight doc assertions in test suite |
| B-016 | Input ergonomics | No camera speed sensitivity/profile presets | Zoom/pan around very small vs large models | P2 | Fixed camera scaling constants in viewport input | Add adjustable navigation sensitivity presets | Unit tests for parameter persistence and clamping |
| B-017 | Visual precision | No axis-lock indicators for active tool operations | Use plane and pick mode toggles while editing | P2 | State is represented in controls but not emphasized in viewport HUD | Add HUD badges and active-axis overlays | Snapshot/UI tests for HUD states |
| B-018 | Multi-part transform UX | Numeric transform fields exist but gizmo manipulation is absent | Try manipulating part transforms directly in viewport | P2 | No transform gizmo implementation in viewport layer | Add basic translate/rotate gizmo for active part | Integration tests for gizmo delta -> scene transform |
